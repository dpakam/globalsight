<?xml version="1.0"?>

<project default="all" basedir=".">
	
	<target name="init">
		<mkdir dir="lib"/>
	    <copy tofile="lib/commons-codec-1.3.jar" file="../../../../tools/lib/common/commons-codec-1.3.jar" />
		<copy tofile="lib/commons-httpclient-3.0-rc2.jar" file="../../../../tools/lib/common/commons-httpclient-3.0-rc2.jar" />
		<copy tofile="lib/commons-logging.jar" file="../../../../tools/j2eeVendor/jboss/jboss_server/lib/commons-logging.jar" />
		<copy tofile="globalsight_ori.keystore" file="../../../../tools/j2eeVendor/jboss/jboss_server/server/default/conf/globalsight_ori.keystore" />
	</target>	
	
	<target name="build" depends="init">
		<delete dir="dist" />
		<mkdir dir="dist"/>
		<javac encoding="ISO-8859-1"  debug="on" target="1.6" classpath=".:commons-codec-1.3.jar:lib/commons-httpclient-3.0-rc2.jar:commons-logging.jar" srcdir="src" destdir="dist" includes="**" />
	</target>			
				
	<target name="all" depends="main">
		<echo message="***** Signing jar files *****" />
		<signjar jar="SelectFilesApplet.jar" keystore="globalsight_ori.keystore" alias="globalsight" storepass="changeit" />	
		<signjar jar="lib/commons-logging.jar" keystore="globalsight_ori.keystore" alias="globalsight" storepass="changeit" />
	</target>

	<target name="main" depends="build">
		<jar jarfile="SelectFilesApplet.jar" basedir="dist" update="yes">
		</jar>
	</target>

	<target name="clean">
		<delete dir="dist"></delete>
		<delete dir="lib"></delete>
	</target>
</project>
